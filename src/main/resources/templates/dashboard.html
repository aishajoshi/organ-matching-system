<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{header :: header-css}"></head>
<body>
<div th:replace="~{header :: header}"></div>
<div class="container-fluid" style="padding-top: 2rem;">
    <div class="content">
        <div class="card mb-4">
            <h3>System Overview</h3>
            <p>Total Donors: <span id="totalDonors">0</span></p>
            <p>Total Recipients: <span id="totalRecipients">0</span></p>
            <p>Total Organs: <span id="totalOrgans">0</span></p>
            <p>Total Required Organs: <span id="totalRequiredOrgans">0</span></p>
            <p>Total Donated Organs: <span id="totalDonatedOrgans">0</span></p>
        </div>
       
    </div>
</div>
<div th:replace="~{footer :: footer}"></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/api/stats')
            .then(response => response.json())
            .then(data => {
                document.getElementById('totalDonors').textContent = data.totalDonors;
                document.getElementById('totalRecipients').textContent = data.totalRecipients;
                document.getElementById('totalOrgans').textContent = data.totalOrgans;
                document.getElementById('totalRequiredOrgans').textContent = data.totalRequiredOrgans;
                document.getElementById('totalDonatedOrgans').textContent = data.totalDonatedOrgans;
            })
            .catch(err => {
                document.getElementById('totalDonors').textContent = 'Error';
                document.getElementById('totalRecipients').textContent = 'Error';
                document.getElementById('totalOrgans').textContent = 'Error';
                document.getElementById('totalRequiredOrgans').textContent = 'Error';
                document.getElementById('totalDonatedOrgans').textContent = 'Error';
            });

    });
</script>
</body>
</html>
